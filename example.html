<!DOCTYPE html>
<html>
	<head>
		<title>leaflet.measure example</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="leaflet/dist/leaflet.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="leaflet/dist/leaflet.ie.css" /><![endif]-->
		<link rel="stylesheet" href="leaflet.measure/leaflet.measure.css" />

		<script src="leaflet/build/deps.js"></script>
		<script src="leaflet/debug/leaflet-include.js"></script>
		<script src="leaflet.measure/leaflet.measure.js"></script>

		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			html, body, #map {
				width: 100%;
				height: 100%;
			}
		</style>
	</head>

	<body>
		<div id="map"></div>

		<script type="text/javascript">
			var layerOsm = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
	          subdomains: ["a", "b", "c"],
	          maxZoom: 18
	        });

			new L.Map('map', {
				measureControl: {
					formatDistance: function (val) {
						return val < 1000 ? Math.round(val) + 'm' : Math.round((val / 1000) * 100) / 100 + 'km';
						},
				}
			}).addLayer(layerOsm).setView(new L.LatLng(40.524724, -3.816153), 6);
		</script>
	</body>
</html>
